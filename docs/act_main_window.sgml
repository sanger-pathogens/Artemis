<CHAPTER ID="MAINWINDOW-CHAPTER">
  <TITLE>The &prog; Main Window</TITLE>
  <PARA>
This chapter describes the main viewing window of &prog;.  First is an
overview of the window and a description of the menus.  The menus are
also accessible from the pop-up menu in the view windows (see <XREF
LINKEND="VIEWS-OTHERMOUSE"> and <XREF LINKEND="VIEWS-POPUPMENU"> for more).
  </PARA>

  <SECT1 ID="MAINWINDOW-OVERVIEW">
    <TITLE>Overview of the Comparison Window</TITLE>
    <PARA>
The following images show a breakdown of the main &prog; window taken from a
<ULINK URL="act_user_manual_screen_shot.gif" TYPE="external">screen
shot</ULINK> of a two sequence comparison.
    </PARA>

    <ORDEREDLIST ID="MAINWINDOW-BREAKDOWN-LIST">
      <LISTITEM ID="MAINWINDOW-BREAKDOWN-MENU">
        <SCREENSHOT>
          <SCREENINFO>
The menu bar of the main &prog; window
          </SCREENINFO>
          
          <MEDIAOBJECT>
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="gif" FILEREF="act_main_window_menu.gif">
            </IMAGEOBJECT>
            
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="eps" FILEREF="act_main_window_menu.eps">
            </IMAGEOBJECT>
          </MEDIAOBJECT>
        </SCREENSHOT>
      </LISTITEM>
      
      <LISTITEM ID="MAINWINDOW-BREAKDOWN-SUBJECT">
        <SCREENSHOT>
          <SCREENINFO>
An overview of the subject sequence
          </SCREENINFO>
          
          <MEDIAOBJECT>
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="gif" FILEREF="act_main_window_subject.gif">
            </IMAGEOBJECT>
            
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="eps" FILEREF="act_main_window_subject.eps">
            </IMAGEOBJECT>
          </MEDIAOBJECT>
        </SCREENSHOT>
      </LISTITEM>
      
      <LISTITEM ID="MAINWINDOW-BREAKDOWN-COMPARISON">
        <SCREENSHOT>
          <SCREENINFO>
The comparison view
          </SCREENINFO>
          
          <MEDIAOBJECT>
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="gif" FILEREF="act_main_window_comp.gif">
            </IMAGEOBJECT>
            
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="eps" FILEREF="act_main_window_comp.eps">
            </IMAGEOBJECT>
          </MEDIAOBJECT>
        </SCREENSHOT>
      </LISTITEM>
      
      <LISTITEM ID="MAINWINDOW-BREAKDOWN-QUERY">
        <SCREENSHOT>
          <SCREENINFO>
An overview of the query sequence
          </SCREENINFO>
          
          <MEDIAOBJECT>
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="gif" FILEREF="act_main_window_query.gif">
            </IMAGEOBJECT>
            
            <IMAGEOBJECT>
              <IMAGEDATA FORMAT="eps" FILEREF="act_main_window_query.eps">
            </IMAGEOBJECT>
          </MEDIAOBJECT>
        </SCREENSHOT>
      </LISTITEM>
    </ORDEREDLIST>
    <PARA>
Key:
    </PARA>
    <ORDEREDLIST ID="MAINWINDOW-INFO">
      <LISTITEM ID="MAINWINDOW-INFO-MENU">
        <PARA>
The menus for the main window (described later in this chapter).  Each menu
contains a sub-menu to control each of the sequences in the comparison.  The
Display menu (see <XREF LINKEND="DISPLAYMENU">) is the exception since it
controls the overall display.  Note that all the menus apart from the File
menu and the Display menus can also be accessed via a pop-up menu on the third
mouse button.  See <XREF LINKEND="VIEWS-OTHERMOUSE"> and <XREF
LINKEND="VIEWS-POPUPMENU"> for more.
        </PARA>
      </LISTITEM>
      <LISTITEM ID="MAINWINDOW-INFO-SUBJECT">
        <PARA>
This a view of the subject sequence of the comparison.  See <XREF
LINKEND="VIEWS"> for more information on how to operate this part of the
window.  
        </PARA>
      </LISTITEM>
      <LISTITEM ID="MAINWINDOW-INFO-COMPARISON">
        <PARA>
This part of the window shows the comparison between the two sequences.  See
<XREF LINKEND="COMPARISON-VIEW"> for more information.
        </PARA>
      </LISTITEM>
      <LISTITEM ID="MAINWINDOW-INFO-QUERY">
        <PARA>
The query sequence of the comparison.  See <XREF
LINKEND="VIEWS"> for more.
        </PARA>
      </LISTITEM>
    </ORDEREDLIST>
  </SECT1>

  &act-filemenu;
  &menus;
  &act-displaymenu;

  <SECT1 ID="VIEWS">
    <TITLE>The DNA Views</TITLE>
    <PARA>
The two sequence views in &prog; show the forward and reverse strands of the
sequence and a representation of the three translation frames in each
direction.  The top view shows the subject sequence of the comparison (see
<XREF LINKEND="MAINWINDOW-BREAKDOWN-SUBJECT">), the bottom view shows the query
sequence (see <XREF LINKEND="MAINWINDOW-BREAKDOWN-QUERY">).  The horizontal
scrollbar controls which part of the sequence is currently visible.  The
scroll bar at the left controls the zoom level.  By default the view shows
only the stop codons in each translation frame, but if the view is zoomed in
it will show the complete six frame translation.
    </PARA>
    <PARA>
See also <XREF LINKEND="MAINWINDOW-OVERVIEW">.
    </PARA>

&views-selection;

    <SECT2 ID="VIEWS-OTHERMOUSE">
      <TITLE>Other Mouse Controlled Functions</TITLE>
      <PARA>
Double clicking on a feature with the first mouse button causes the view to
centre itself on that feature.  Similarly, double clicking the first mouse
button on a base or amino acid will centre the view on that base/amino acid.
      </PARA>
      <PARA>
A double click of the middle mouse button on a feature will open an edit
window for that feature.  This is the same as clicking once and then choosing
the Edit Selected Features menu item (see <XREF
LINKEND="EDITMENU-EDIT-SELECTED-FEATURES">).
      </PARA>
      <PARA>
The third button activates a pop-up menu with functions specific to this
view.  See <XREF LINKEND="VIEWS-POPUPMENU"> for more.
      </PARA>
    </SECT2>

&views-popup;
&views-scrolling;
&views-scale;
&views-directedit;
  </SECT1>

  <SECT1 ID="COMPARISON-VIEW">
    <TITLE>Comparison View</TITLE>
    <PARA>
This part of the window shows the comparison between two sequences.  Each
red/pink box corresponds to single match, with red representing a good match
and white/pale pink a lower scoring match.  This view cannot be scrolled
directly, instead it tracks the movement of the subject and query sequence
views (see <XREF LINKEND="VIEWS">).
    </PARA>
    <PARA>
See <XREF LINKEND="MAINWINDOW-BREAKDOWN-COMPARISON"> to see where this view
fits in the main window.
    </PARA>
    <SECT2 ID="COMPARISON-VIEW-CONTROLS">
      <TITLE>Controls</TITLE>
      <PARA>
The vertical scrollbar at the right of the view sets the minimum size (in
bases on the subject sequence) of the matches that are displayed.  The default
is 1, so when started &prog; will show all matches.
      </PARA>
      <PARA>
Clicking the left button on a match will highlight the match.  Double clicking
the mouse on one of the matches will cause the sequence views to align around
that match.  
      </PARA>
      <PARA>
Clicking the middle mouse button toggles the locking of the two sequences that
are being compared by this comparison view.  When locked the sequences will
scroll in parallel.  When unlocked the sequences can be scrolled
independently.  (See <XREF LINKEND="MOUSEBUTTONS"> if you do not have a middle
mouse button)
      </PARA>
      <SECT3 ID="COMPARISON-VIEW-POPUPMENU">
        <TITLE>The Comparison View Pop-up Menu</TITLE>
        <PARA>
The pop-up menu is activated by pressing the third mouse button within
the comparison view.  The menu items are as follows:
        </PARA>
        <ITEMIZEDLIST SPACING="compact">
          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-VIEW-MATCHES">
            <FORMALPARA>
              <TITLE>View Selected Matches</TITLE>
              <PARA>
Creates a new window which contains a list of currently selected (ie. yellow)
matches.  Clicking on a match in the list will centre the comparison view on
that match.
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-FLIP-QUERY">
            <FORMALPARA>
              <TITLE>Flip Query Sequence</TITLE>
              <PARA>
Flips the query sequence display so that it appears to be reverse complemented.
(See <XREF LINKEND="VIEWS-POPUPMENU-TOGGLES-FLIPDISPLAY">.)
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-FLIP-SUBJECT">
            <FORMALPARA>
              <TITLE>Flip Subject Sequence</TITLE>
              <PARA>
Flips the subject sequence display so that it appears to be reverse complemented.
(See <XREF LINKEND="VIEWS-POPUPMENU-TOGGLES-FLIPDISPLAY">.)
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-LOCK">
            <FORMALPARA>
              <TITLE>Lock Sequences</TITLE>
              <PARA>
Lock the two sequences so that they scroll together.
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-UNLOCK">
            <FORMALPARA>
              <TITLE>Unlock Sequences</TITLE>
              <PARA>
Allow the two sequences to scroll independently.
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-SET-SCORE-CUTOFFS">
            <FORMALPARA>
              <TITLE>Set Score Cutoffs ...</TITLE>
              <PARA>
Pop-up a gadget that allows the matches to be filtered on "score", generally
the BLAST score .
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-SET-PID-CUTOFFS">
            <FORMALPARA>
              <TITLE>Set Percent ID Cutoffs ...</TITLE>
              <PARA>
Pop-up a gadget that allows the matches to be filtered on the percentage
identity. 
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-OFFER-TO-REVCOMP">
            <FORMALPARA>
              <TITLE>Offer To RevComp</TITLE>
              <PARA>
When this option is "on", double clicking on a reverse complemented match will
cause &prog; to ask the user whether to flip the query sequence
before centering on the match.  If "off" the match will just be centred.
              </PARA>
            </FORMALPARA>
          </LISTITEM>

          <LISTITEM ID="COMPARISON-VIEW-POPUPMENU-IGNORESELFMATCHES">
            <FORMALPARA>
              <TITLE>Ignore Self Matches</TITLE>
              <PARA>
When this option is "on", matches that have the same start and
end positions on both the subject and query sequences will not be shown.
              </PARA>
            </FORMALPARA>
          </LISTITEM>
        </ITEMIZEDLIST>
      </SECT3>
    </SECT2>
  </SECT1>

&featurelist;

  <SECT1 ID="GRAPHS">
    <TITLE>Graphs and Plots</TITLE>
    <PARA>
The DNA plots are accessed from the Graphs(top) and Graphs(bottom) menus (see
<XREF LINKEND="DISPLAYMENU">).  When a graph is turned on it is locked to the
overview window, so it will follow the overview window when the overview is
scrolled.  It will also automatically change the viewing scale to match the
scale of the overview window.  The vertical scrollbar to the right of the
graph controls the window size of algorithm.
    </PARA>

    <PARA>
The feature plots window (see <XREF LINKEND="VIEWMENU-SHOW-FEATURE-PLOTS">)
has a horizontal scroll bar that sets the position of the plot in the feature.
As with the DNA plots, the vertical scrollbar to the right of the graph
controls the window size of algorithm.
    </PARA>

    <PARA>
Note that clicking the left mouse button on the plot will show the base or
residue at that position.  Clicking the right mouse button will pop-up a menu.
The menu contains a toggle which controls whether the graph is scaled and some
menu items which allow the maximum window size to be set.
    </PARA>
  </SECT1>

&mousebuttons;
</CHAPTER>
